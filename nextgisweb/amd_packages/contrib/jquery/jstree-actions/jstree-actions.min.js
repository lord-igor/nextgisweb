!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";t.jstree.defaults.actions=t.noop,t.jstree.plugins.actions=function(t,n){this._actions={},this.add_action=function(t,n){var e=this;t="object"==typeof t?t:[t];for(var i=0;i<t.length;i++){var o=t[i],a=e._actions[o]=e._actions[o]||[];e._has_action(o,n.id)||(a.push(n),this.redraw_node(o))}},this.remove_action=function(t,n){for(var e=this,i="object"==typeof t?t:"all"===t?Object.keys(this._actions).concat("all"):[t],o=0;o<i.length;o++){t=i[o];for(var a=e._actions[t]||[],r=[],c=0;c<a.length;c++){var s=a[c];s.id!==n&&"all"!==n&&r.push(s)}var l=a.map(function(t){return t.id}),f=r.map(function(t){return t.id});(l.length!=f.length||l.filter(function(t){return-1===f.indexOf(t)}).length)&&(e._actions[t]=r,this.redraw_node(t))}},this._create_action=function(t,n){var e=this,i=this._get_action(t,n);if(null===i)return null;var o=document.createElement("i");return o.className=i["class"],o.textContent=i.text,o.onclick=function(){var a=e.get_node(o);i.callback(t,a,n,o)},{action:i,action_el:o}},this._get_action=function(t,n){for(var e=this._actions[t]||[],i=null,o=0;o<e.length;o++){var a=e[o];a.id===n&&(i=a)}return i},this._set_action=function(t,n,e){if(null!==e){var i=n.querySelector(e.action.selector);e.action.after?i.parentNode.insertBefore(e.action_el,i.nextSibling):n.insertBefore(e.action_el,i)}},this._has_action=function(t,n){var e=!1,i=this._actions;if(i.hasOwnProperty(t))for(var o=0;o<i[t].length;o++)i[t][o].id===n&&(e=!0);if(this._actions.hasOwnProperty("all"))for(o=0;o<i.all.length;o++)i.all[o].id===n&&(e=!0);return e},this.redraw_node=function(t,e,i,o){var a=this,r="object"==typeof t?t.id:t,c=n.redraw_node.call(this,t,e,i,o);if(c){for(var s=this._actions[r]||[],l=0;l<s.length;l++){var f=a._create_action(r,s[l].id);a._set_action(r,c,f)}for(s=this._actions.all||[],l=0;l<s.length;l++)f=a._create_action("all",s[l].id),a._set_action(r,c,f)}return c}}});